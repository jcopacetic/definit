<div class="site-sidepanel-wrapper">
  <div class="site-sidepanel-header">
    <div>
      <h3>Edit Customer</h3>
    </div>
  </div>

  <div class="site-sidepanel-body">
    <form 
      hx-post="{% url 'dashboard:get-customer' customer_slug=customer.slug %}" 
      hx-swap="none" 
      method="post">
      <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

      <div class="mb-3">
        <label for="name" class="form-label">Customer Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ customer.name }}" required>
      </div>

      <div class="mb-3">
        <label for="domain" class="form-label">Domain</label>
        <input type="url" class="form-control" id="domain" name="domain" value="{{ customer.domain }}" required>
      </div>

      <div class="mb-3">
        <label for="hubspot_portal_id" class="form-label">HubSpot Portal ID</label>
        <input type="text" class="form-control" id="hubspot_portal_id" name="hubspot_portal_id" value="{{ customer.hubspot_portal_id }}">
      </div>

      <p>
        <a class="btn btn-outline-secondary btn-sm" data-bs-toggle="collapse" href="#integrationKeys" role="button" aria-expanded="false" aria-controls="integrationKeys">
          Show Integration Keys
        </a>
      </p>

      <div class="collapse" id="integrationKeys">
        <div class="card card-body">
          <div class="mb-3">
            <label for="hubspot_secret_app_key" class="form-label">HubSpot Secret App Key</label>
            <input type="text" class="form-control" id="hubspot_secret_app_key" name="hubspot_secret_app_key" value="{{ customer.hubspot_secret_app_key }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_site_id" class="form-label">MS Graph Site ID</label>
            <input type="text" class="form-control" id="msgraph_site_id" name="msgraph_site_id" value="{{ customer.msgraph_site_id }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_drive_id" class="form-label">MS Graph Drive ID</label>
            <input type="text" class="form-control" id="msgraph_drive_id" name="msgraph_drive_id" value="{{ customer.msgraph_drive_id }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_client_id" class="form-label">MS Graph Client ID</label>
            <input type="text" class="form-control" id="msgraph_client_id" name="msgraph_client_id" value="{{ customer.msgraph_client_id }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_client_secret" class="form-label">MS Graph Client Secret</label>
            <input type="text" class="form-control" id="msgraph_client_secret" name="msgraph_client_secret" value="{{ customer.msgraph_client_secret }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_tenant_id" class="form-label">MS Graph Tenant ID</label>
            <input type="text" class="form-control" id="msgraph_tenant_id" name="msgraph_tenant_id" value="{{ customer.msgraph_tenant_id }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_authority" class="form-label">MS Graph Authority</label>
            <input type="text" class="form-control" id="msgraph_authority" name="msgraph_authority" value="{{ customer.msgraph_authority }}">
          </div>

          <div class="mb-3">
            <label for="msgraph_scopes" class="form-label">MS Graph Scopes</label>
            <input type="text" class="form-control" id="msgraph_scopes" name="msgraph_scopes" value="{{ customer.msgraph_scopes }}">
          </div>
        </div>
      </div>

      <div class="actions d-flex">
        <a 
          hx-get="{% url 'dashboard:get-customer' customer_slug=customer.slug %}" 
          hx-swap="outerHTML"
          class="mt-3 me-3 btn btn-secondary" 
          href="javascript:void(0)">cancel</a>

        <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
      </div>
    </form>
  </div>
</div>
